<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1600 900" width="100%" height="100%" style="background-color: #0b0f19; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;">
  <defs>
    <!-- Patterns -->
    <pattern id="gridPattern" width="40" height="40" patternUnits="userSpaceOnUse">
      <path d="M 40 0 L 0 0 0 40" fill="none" stroke="#ffffff" stroke-width="0.5" stroke-opacity="0.05" />
    </pattern>
    <pattern id="dotPattern" x="0" y="0" width="20" height="20" patternUnits="userSpaceOnUse">
      <circle cx="2" cy="2" r="1.2" fill="#ffffff" fill-opacity="0.08" />
    </pattern>

    <!-- Gradients -->
    <linearGradient id="primaryGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#00C6FF" />
      <stop offset="100%" stop-color="#0072FF" />
    </linearGradient>

    <linearGradient id="accentGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#FF512F" />
      <stop offset="100%" stop-color="#DD2476" />
    </linearGradient>

    <linearGradient id="greenGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#11998e" />
      <stop offset="100%" stop-color="#38ef7d" />
    </linearGradient>

    <linearGradient id="purpleGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#8E2DE2" />
      <stop offset="100%" stop-color="#4A00E0" />
    </linearGradient>
    
    <linearGradient id="cardGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" stop-color="#161b29" stop-opacity="0.95" />
      <stop offset="100%" stop-color="#0d111a" stop-opacity="0.95" />
    </linearGradient>

    <linearGradient id="panelGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" stop-color="#1e293b" stop-opacity="0.5" />
      <stop offset="100%" stop-color="#0f172a" stop-opacity="0.5" />
    </linearGradient>

    <!-- Filters -->
    <filter id="glowPrimary" x="-20%" y="-20%" width="140%" height="140%">
      <feGaussianBlur stdDeviation="15" result="blur" />
      <feComposite in="SourceGraphic" in2="blur" operator="over" />
    </filter>

    <filter id="glowAccent" x="-20%" y="-20%" width="140%" height="140%">
      <feGaussianBlur stdDeviation="15" result="blur" />
      <feComposite in="SourceGraphic" in2="blur" operator="over" />
    </filter>

    <filter id="glowGreen" x="-20%" y="-20%" width="140%" height="140%">
      <feGaussianBlur stdDeviation="15" result="blur" />
      <feComposite in="SourceGraphic" in2="blur" operator="over" />
    </filter>

    <filter id="glowPurple" x="-20%" y="-20%" width="140%" height="140%">
      <feGaussianBlur stdDeviation="15" result="blur" />
      <feComposite in="SourceGraphic" in2="blur" operator="over" />
    </filter>
    
    <filter id="dropShadow" x="-10%" y="-10%" width="130%" height="130%">
      <feDropShadow dx="0" dy="10" stdDeviation="15" flood-color="#000000" flood-opacity="0.5" />
    </filter>
  </defs>

  <!-- Background -->
  <rect width="100%" height="100%" fill="#0b0f19" />
  <rect width="100%" height="100%" fill="url(#gridPattern)" />
  <rect width="100%" height="100%" fill="url(#dotPattern)" />

  <!-- Header -->
  <g transform="translate(60, 40)">
    <!-- Logo Icon -->
    <rect x="0" y="0" width="50" height="50" rx="12" fill="url(#primaryGrad)" filter="url(#glowPrimary)" opacity="0.15" />
    <path d="M 12 12 L 38 38 L 50 12 L 40 12 L 30 25 L 20 12 Z" fill="#00C6FF" />
    <path d="M 12 12 L 20 12 L 30 25 L 40 12 L 50 12 L 30 0 Z" fill="#0072FF" />
    <!-- Title -->
    <text x="75" y="38" fill="#ffffff" font-size="38" font-weight="800" letter-spacing="0.5">Vanna.AI <tspan fill="#94a3b8" font-size="28" font-weight="500">Architecture</tspan></text>
  </g>
  <rect x="1330" y="40" width="210" height="46" rx="23" fill="#1e293b" stroke="#334155" stroke-width="2" />
  <text x="1435" y="70" fill="#38ef7d" font-family="'SFMono-Regular', Consolas, monospace" font-size="20" font-weight="600" text-anchor="middle">pip install vanna</text>

  <!-- ======================== -->
  <!-- LEFT COLUMN (Client)   -->
  <!-- ======================== -->
  
  <!-- Frontend Container -->
  <g transform="translate(60, 130)" filter="url(#dropShadow)">
    <rect width="420" height="320" rx="24" fill="url(#cardGrad)" stroke="#1f2937" stroke-width="2" />
    
    <!-- Header -->
    <g transform="translate(30, 35)">
      <rect x="0" y="0" width="40" height="40" rx="10" fill="url(#accentGrad)" opacity="0.2" filter="url(#glowAccent)" />
      <path d="M10 14h20v14H10z M16 32h8 M20 28v4" stroke="#FF512F" fill="none" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round" />
      <text x="55" y="27" fill="#ffffff" font-size="24" font-weight="700">Frontend</text>
    </g>

    <!-- Content Blocks -->
    <rect x="30" y="95" width="360" height="90" rx="16" fill="url(#panelGrad)" stroke="#334155" stroke-width="1.5" />
    <rect x="30" y="95" width="6" height="90" rx="3" fill="url(#accentGrad)" />
    <text x="55" y="130" fill="#f8fafc" font-size="20" font-weight="700">&lt;vanna-chat&gt;</text>
    <text x="55" y="155" fill="#94a3b8" font-size="14">Customizable Webcomponent</text>

    <rect x="30" y="200" width="360" height="90" rx="16" fill="url(#panelGrad)" stroke="#334155" stroke-width="1.5" />
    <text x="55" y="230" fill="#f8fafc" font-size="18" font-weight="700">Drop-in to a larger app</text>
    <circle cx="60" cy="255" r="4" fill="#FF512F" />
    <text x="75" y="260" fill="#94a3b8" font-size="14">Use your existing cookies/JWTs</text>
  </g>

  <!-- Python Server Container -->
  <g transform="translate(60, 480)" filter="url(#dropShadow)">
    <rect width="420" height="300" rx="24" fill="url(#cardGrad)" stroke="#1f2937" stroke-width="2" />
    
    <!-- Header -->
    <g transform="translate(30, 35)">
      <rect x="0" y="0" width="40" height="40" rx="10" fill="url(#primaryGrad)" opacity="0.2" filter="url(#glowPrimary)" />
      <rect x="8" y="10" width="24" height="10" rx="2" stroke="#00C6FF" fill="none" stroke-width="2" />
      <rect x="8" y="22" width="24" height="10" rx="2" stroke="#00C6FF" fill="none" stroke-width="2" />
      <path d="M14 15h.01M14 27h.01" stroke="#00C6FF" stroke-width="3" stroke-linecap="round" />
      <text x="55" y="27" fill="#ffffff" font-size="24" font-weight="700">Python Server</text>
    </g>

    <!-- Content Blocks -->
    <rect x="30" y="95" width="360" height="70" rx="16" fill="url(#panelGrad)" stroke="#334155" stroke-width="1.5" />
    <rect x="30" y="95" width="6" height="70" rx="3" fill="url(#primaryGrad)" />
    <text x="55" y="135" fill="#f8fafc" font-size="18" font-weight="700">SSE / Websocket Streams</text>

    <rect x="30" y="180" width="360" height="90" rx="16" fill="url(#panelGrad)" stroke="#334155" stroke-width="1.5" />
    <text x="55" y="210" fill="#f8fafc" font-size="16" font-weight="700">Choose Your Server</text>
    <circle cx="60" cy="235" r="4" fill="#00C6FF" />
    <text x="75" y="240" fill="#94a3b8" font-size="14">Flask or FastAPI integration</text>
  </g>


  <!-- ======================== -->
  <!-- RIGHT COLUMN (Agent)   -->
  <!-- ======================== -->
  
  <g transform="translate(520, 130)" filter="url(#dropShadow)">
    <rect width="1020" height="650" rx="30" fill="url(#cardGrad)" stroke="#1f2937" stroke-width="2" />
    <rect x="0" y="0" width="1020" height="70" rx="30" fill="#1e293b" opacity="0.4" />
    
    <!-- Main Agent Header -->
    <g transform="translate(40, 20)">
      <rect x="0" y="0" width="40" height="40" rx="10" fill="url(#purpleGrad)" opacity="0.2" filter="url(#glowPurple)" />
      <path d="M12 28s10-5 10-12V6l-10-4-10 4v9c0 7 10 12 10 12z" stroke="#8E2DE2" fill="none" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round" />
      <text x="55" y="28" fill="#ffffff" font-size="26" font-weight="800">User-Aware Agent</text>
    </g>

    <!-- ====== Row 1 ====== -->
    <g transform="translate(40, 90)">
      <!-- User Resolver Region -->
      <rect width="450" height="230" rx="20" fill="url(#panelGrad)" stroke="#334155" stroke-width="1.5" />
      <text x="25" y="35" fill="#f8fafc" font-size="20" font-weight="700">User Resolver</text>

      <rect x="25" y="60" width="190" height="70" rx="12" fill="#0f172a" stroke="#475569" stroke-width="1" />
      <rect x="25" y="60" width="4" height="70" rx="2" fill="url(#purpleGrad)" />
      <text x="45" y="85" fill="#ffffff" font-size="16" font-weight="600">Role-Based</text>
      <text x="45" y="110" fill="#94a3b8" font-size="13">Admin vs standard User</text>

      <rect x="235" y="60" width="190" height="70" rx="12" fill="#0f172a" stroke="#475569" stroke-width="1" />
      <rect x="235" y="60" width="4" height="70" rx="2" fill="url(#purpleGrad)" />
      <text x="255" y="85" fill="#ffffff" font-size="16" font-weight="600">Data Access</text>
      <text x="255" y="110" fill="#94a3b8" font-size="13">Row/column level rules</text>

      <rect x="25" y="145" width="400" height="60" rx="12" fill="url(#purpleGrad)" opacity="0.15" />
      <rect x="25" y="145" width="400" height="60" rx="12" stroke="#8E2DE2" stroke-width="1.5" />
      <text x="225" y="180" fill="#ffffff" font-size="16" font-weight="700" text-anchor="middle">Use Existing Application Auth Headers</text>
    </g>

    <g transform="translate(520, 90)">
      <!-- Tools Region -->
      <rect width="460" height="230" rx="20" fill="url(#panelGrad)" stroke="#334155" stroke-width="1.5" />
      <text x="25" y="35" fill="#f8fafc" font-size="20" font-weight="700">Tools (User-Aware)</text>

      <rect x="25" y="60" width="200" height="70" rx="12" fill="#0f172a" stroke="#475569" stroke-width="1" />
      <rect x="25" y="60" width="4" height="70" rx="2" fill="url(#greenGrad)" />
      <text x="45" y="85" fill="#ffffff" font-size="16" font-weight="600">Run SQL</text>
      <text x="45" y="110" fill="#94a3b8" font-size="13">Executes on DB securely</text>

      <rect x="240" y="60" width="195" height="70" rx="12" fill="#0f172a" stroke="#475569" stroke-width="1" />
      <rect x="240" y="60" width="4" height="70" rx="2" fill="url(#greenGrad)" />
      <text x="260" y="85" fill="#ffffff" font-size="16" font-weight="600">Tool Memory</text>
      <text x="260" y="110" fill="#94a3b8" font-size="13">RAG / Schema search</text>

      <rect x="25" y="145" width="200" height="70" rx="12" fill="#0f172a" stroke="#475569" stroke-width="1" />
      <rect x="25" y="145" width="4" height="70" rx="2" fill="url(#greenGrad)" />
      <text x="45" y="170" fill="#ffffff" font-size="16" font-weight="600">Charts</text>
      <text x="45" y="195" fill="#94a3b8" font-size="13">Declarative UI ChartSpec</text>

      <rect x="240" y="145" width="195" height="70" rx="12" fill="#0f172a" stroke="#475569" stroke-width="1" />
      <rect x="240" y="145" width="4" height="70" rx="2" fill="url(#greenGrad)" />
      <text x="260" y="170" fill="#ffffff" font-size="16" font-weight="600">Custom Tools</text>
      <text x="260" y="195" fill="#94a3b8" font-size="13">Inject anything</text>
    </g>

    <!-- ====== Row 2 ====== -->
    <g transform="translate(40, 340)">
      <!-- LLM Selection -->
      <rect width="450" height="130" rx="20" fill="url(#panelGrad)" stroke="#334155" stroke-width="1.5" />
      <text x="25" y="35" fill="#f8fafc" font-size="20" font-weight="700">Choose Your LLM</text>

      <rect x="25" y="60" width="190" height="50" rx="12" fill="#0f172a" stroke="#475569" stroke-width="1" />
      <rect x="25" y="60" width="4" height="50" rx="2" fill="url(#accentGrad)" />
      <text x="120" y="90" fill="#ffffff" font-size="16" font-weight="600" text-anchor="middle">Anthropic / OpenAI</text>

      <rect x="235" y="60" width="190" height="50" rx="12" fill="#0f172a" stroke="#475569" stroke-width="1" />
      <rect x="235" y="60" width="4" height="50" rx="2" fill="url(#accentGrad)" />
      <text x="330" y="90" fill="#ffffff" font-size="16" font-weight="600" text-anchor="middle">OpenRouter API</text>
    </g>

    <g transform="translate(520, 340)">
      <!-- System Prompt -->
      <rect width="460" height="130" rx="20" fill="url(#panelGrad)" stroke="#334155" stroke-width="1.5" />
      <text x="25" y="35" fill="#f8fafc" font-size="20" font-weight="700">Dynamic System Prompt</text>

      <rect x="25" y="60" width="130" height="50" rx="12" fill="#0f172a" stroke="#475569" stroke-width="1" />
      <text x="90" y="90" fill="#cbd5e1" font-size="14" font-weight="600" text-anchor="middle">User Identity</text>

      <rect x="165" y="60" width="130" height="50" rx="12" fill="#0f172a" stroke="#475569" stroke-width="1" />
      <text x="230" y="90" fill="#cbd5e1" font-size="14" font-weight="600" text-anchor="middle">Permissions</text>

      <rect x="305" y="60" width="130" height="50" rx="12" fill="#0f172a" stroke="#475569" stroke-width="1" />
      <text x="370" y="90" fill="#cbd5e1" font-size="14" font-weight="600" text-anchor="middle">Available Tools</text>
    </g>

    <!-- ====== Row 3 ====== -->
    <g transform="translate(40, 490)">
      <!-- Optional Features spanning full width -->
      <rect width="940" height="130" rx="20" fill="url(#panelGrad)" stroke="#334155" stroke-width="1.5" />
      <text x="25" y="35" fill="#f8fafc" font-size="20" font-weight="700">Optional Features</text>

      <g transform="translate(25, 60)">
        <!-- Features Grid -->
        <rect x="0" y="0" width="140" height="50" rx="12" fill="#0f172a" stroke="#475569" stroke-width="1" />
        <text x="70" y="30" fill="#cbd5e1" font-size="14" font-weight="600" text-anchor="middle">Observability</text>

        <rect x="150" y="0" width="140" height="50" rx="12" fill="#0f172a" stroke="#475569" stroke-width="1" />
        <text x="220" y="30" fill="#cbd5e1" font-size="14" font-weight="600" text-anchor="middle">Evaluations</text>

        <rect x="300" y="0" width="140" height="50" rx="12" fill="#0f172a" stroke="#475569" stroke-width="1" />
        <text x="370" y="30" fill="#cbd5e1" font-size="14" font-weight="600" text-anchor="middle">Rate Limiting</text>

        <rect x="450" y="0" width="140" height="50" rx="12" fill="#0f172a" stroke="#475569" stroke-width="1" />
        <text x="520" y="30" fill="#cbd5e1" font-size="14" font-weight="600" text-anchor="middle">Compaction</text>

        <rect x="600" y="0" width="140" height="50" rx="12" fill="#0f172a" stroke="#475569" stroke-width="1" />
        <text x="670" y="30" fill="#cbd5e1" font-size="14" font-weight="600" text-anchor="middle">Filtering</text>

        <rect x="750" y="0" width="140" height="50" rx="12" fill="#0f172a" stroke="#475569" stroke-width="1" />
        <text x="820" y="30" fill="#cbd5e1" font-size="14" font-weight="600" text-anchor="middle">Audit Logs</text>
      </g>
    </g>
  </g>
</svg>